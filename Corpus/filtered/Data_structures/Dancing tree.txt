dancing tree computer science dancing tree tree data structure trees invented hans reiser reiser4 file opposed balancing binary search trees attempt nodes balanced times dancing trees balance nodes flushing data disk memory constraints transaction completed idea speed file operations delaying optimization tree writing disk writing disk thousands times slower writing memory optimization tree data structures optimization extensive sense considered balancing binary search tree optimized storage slow medium disc form balanced mid transaction writes eases difficulty time adding removing nodes performs slow rebalancing operations time slower write storage medium negative behavior witnessed cases unexpected shutdown incomplete data writes occurrences prevent final balanced transaction completing general dancing trees pose greater difficulty data recovery incomplete transactions normal tree addressed adding extra transaction logs developing algorithm locate data disk optimizations continuing pending operations transactions